{% extends "school_report/section.html" %}

{% block content %}

학생에 대한 설문을 만들 수는 있지만, 기존 설문을 없앨 수 있어, 삭제기능은 만들지 않았습니다.
  <form action="#" method="POST" id="myForm">
    {% csrf_token %}
    <table class="table">
      <thead>
        <tr>
          <th>대상 학생</th>
          <th>생성 여부</th>
        </tr>
      </thead>
      <tbody>
      {% for profile in student_list %}
        <tr>
          <td>
            {{profile.code}} {{profile.name}}
          </td>
          <td><input type="checkbox"
                     {%if profile.submit %}checked disabled
                     {%else %}name="user_list" value="{{student.id}}" {%endif%}></td>
        </tr>
      {% endfor %}
<!-- 추가적인 설문 종류와 설명을 필요에 따라 행을 추가할 수 있습니다 -->
      </tbody>
    </table>
    <input type="submit" class="btn btn-primary" value="설문 제작"></input>
  </form>



<script>
document.getElementById('myForm').addEventListener('submit', function (event) {
    var confirmation = confirm("제출하시겠습니까? 삭제는 불가합니다."); // 확인 메시지를 표시합니다.
    if (!confirmation) {
        event.preventDefault(); // 제출을 취소합니다.
    }
});
</script>

{% endblock %}
