{% extends "school_report/section.html" %}

{% block inner_content %}

<h5 class="my-3 border-bottom pb-2">학교 정보</h5>
{% include "form_errors.html" %}

<!--------폼 처리-->
<form method="post" enctype="multipart/form-data" class="post-form my-3">
{% csrf_token %}

<!--  이미 핵심정보가 기입된 경우엔 disabled!  -->
    <div class="form-group">
        <label>학교명</label>ex) 원주중학교
    <input type="text" class="form-control" name="name" id="name" {%if form.name %}disabled{%endif%}
                       value="{{ form.name.value|default_if_none:'' }}" placeholder="학교의 정식명칭을 띄어쓰기 없이.">

        <label>운영연도</label>
    <input type="text" class="form-control" name="year" id="year" {%if form.name %}disabled{%endif%}
                       value="{{ form.year.value|default_if_none:'' }}" placeholder="ex) 2022">

        <label>학교급</label>
        <select name="level" {%if form.name %}disabled{%endif%}>
            <option value="초등학교"{%if form.level.value == "초등학교"%} selected{%endif%}>초등학교</option>
            <option value="중학교"{%if form.level.value == "중학교"%} selected{%endif%}>중학교</option>
            <option value="고등학교"{%if form.level.value == "고등학교"%} selected{%endif%}>고등학교</option>
            <option value="대학교"{%if form.level.value == "대학교"%} selected{%endif%}>대학교</option>
            <option value="학원"{%if form.level.value == "학원"%} selected{%endif%}>학원</option>
        </select><br>

<!--   disabled를 사용하면 입력값이 안들어간다. 그래서 따로 넣어준다.    -->
        <input type="hidden" name="name" value="{{form.name.value}}">
        <input type="hidden" name="year" value="{{form.year.value}}">
        <input type="hidden" name="level" value="{{form.level.value}}">

    <h4 class="my-3 border-bottom pb-2">다음은 선택사항</h4>
        <label>학교코드</label>
    <input type="text" class="form-control" name="school_code" id="school_code"
                       value="{{ form.school_code.value|default_if_none:'' }}" placeholder="나이스 서비스 이용을 위한 학교코드">
        <label>시,도 교육청 코드</label>
    <input type="text" class="form-control" name="education_office" id="education_office"
                       value="{{ form.education_office.value|default_if_none:'' }}" placeholder="나이스 서비스 이용을 위한 시도교육청코드">


<a href="https://open.neis.go.kr/portal/data/service/selectServicePage.do?page=1&rows=10&sortColumn=&sortDirection=&infId=OPEN17020190531110010104913&infSeq=1&cateId=A0001">
    학교정보는 이곳에서 찾아볼 수 있습니다.
</a>
    </div>
    <h4 class="my-3 border-bottom pb-2">학교 게시판</h4>
        선택하면 게시판을 개설, 체크를 해제하면 게시판 이용을 중지합니다.
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
    <div class="col">
      <div class="card h-100 shadow-sm border {% if school.is_lost_item_board_active %}border-primary{% endif %}">
        <div class="card-body d-flex align-items-start">
          <input class="form-check-input me-2 mt-1" type="checkbox" name="boards_checks"
                 value="lost_item_board" id="lost_item_board"
                 {% if school.is_lost_item_board_active %}checked{% endif %}>
          <label class="form-check-label stretched-link" for="lost_item_board">
            분실물 신고
          </label>
        </div>
      </div>
    </div>

    <div class="col">
      <div class="card h-100 shadow-sm border {% if school.is_suggestion_board_active %}border-primary{% endif %}">
        <div class="card-body d-flex align-items-start">
          <input class="form-check-input me-2 mt-1" type="checkbox" name="boards_checks"
                 value="suggestion_board" id="suggestion_board"
                 {% if school.is_suggestion_board_active %}checked{% endif %}>
          <label class="form-check-label stretched-link" for="suggestion_board">
            건의 사항
          </label>
        </div>
      </div>
    </div>
  </div>
        <input type="submit" class="btn btn-primary" value='등록'>

</form>


{% endblock inner_content %}