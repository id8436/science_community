{% extends "boards/score/section.html" %}

{% block content %}
<script>
let count = 1;
    const add_textbox = () => {
        const box = document.getElementById("box");
        const newP = document.createElement('p');
        newP.innerHTML = "추가 " + count + "과목 : <input type='text' placeholder='과목명' name='subject'>" + "  과목코드 : <input type='text' placeholder='과목코드' name='sj_code'>";
        box.appendChild(newP);
        count += 1
    }
    const remove = (obj) => {
        document.getElementById('box').removeChild(obj.parentNode);
    }
</script>

{% if subjects %}
<div class="container">
간단한 작업이고, 혼란을 방지하기 위해 실수 없이 작성하시기 바랍니다.
<table class="table table-hover" id="posting_table">
    <thead>
    <tr class="thead-dark">
        <th>과목</th>
        <th>과목코드</th>
    </tr>
    </thead>
    <tbody>
    {% for posting in subjects %}
    <tr>
        <td>{{ posting.name }}</td>
        <td>{{ posting.sj_code }}</td>
    </tr>
    {% endfor %}
    </tbody>
    </table> {% endif %}


<form method="post" enctype="multipart/form-data" class="post-form my-3" >
    {% csrf_token %}
    <div class="form-group">
        <div id="box" name="box">
            <input type="button" class="btn btn-outline-info btn-sm" value="입력칸 추가" onclick="add_textbox()">
        </div>

    </div>
    <input type="submit" class="btn btn-primary submit" value='등록'>
</form>
</div>

<script type='text/javascript'>
$(document).ready(function(){
    $(".submit").on('click', function() {
        if(confirm("제출합니까? 추후 수정은 불가합니다.")) {
            location.href = $(this).data('uri');
        }
    });
});
</script><!-- 취소를 누르면 아무 일도 하지 않는다.-->

{% endblock content%}